---
import Layout from "../components/Layout.astro";
const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/");
}
---

<Layout title="update">
  <div
    style={{
      display: "flex",
      alignItems: "stretch",
      justifyContent: "center",
    }}
  >
    <form
      action="/api/auth/sign-in"
      method="post"
      style={{
        boxShadow: "1px 1px 3px #ccc",
        borderRadius: "8px",
        padding: "20px",
        display: "flex",
        flexDirection: "column",
        justifyContent: "center",
        maxWidth: "35rem",
        gap: "1rem",
      }}
    >
      <div>
        <h4>Sign In</h4>
      </div>
      <label
        style={{
          display: "flex",
          flexDirection: "column",
        }}
      >
        Email:
        <input type="email" name="email" placeholder="Enter Email" required />
      </label>

      <label
        style={{
          display: "flex",
          flexDirection: "column",
        }}
      >
        Password:
        <input
          type="password"
          name="password"
          placeholder="Enter Password"
          required
        />
      </label>

      <button
        style={{
          backgroundColor: "var(--accent)",
          border: "none",
          padding: "6px 10px",
          fontSize: "large",
          color: "white",
          cursor: "pointer",
          borderRadius: "6px",
        }}
        type="submit"
        value={"Submit"}
      >
        Sign In
      </button>
    </form>
  </div>
</Layout>
